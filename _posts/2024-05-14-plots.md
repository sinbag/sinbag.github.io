---
title: "Scientific plots for research papers using python"
date: 2024-05-14
---


**#Codelog 1** 

Let's code it from scratch!

Every time I needed to draw a plot of a data, I ended up searching for all the python commands again and again, and again! 
I have finally decided to document all the source code I am writing, starting with this simple and complete source code to plot data for scietific research papers. It's simple but it works!

In this tutorial, we are directly looking at the source code for drawing the scientific plots you have seen in research papers. 
These plots are important to analyze the results and the progress made in any project. 
The plots we draw will use LaTeX font style and size. Python language allows us to make all the required changes in no time.

I will come back to it and will share more information with some visual results.

```
import numpy as np
import sys, os
import argparse
import matplotlib
import matplotlib.pyplot as plt

# Remove the top and the right axis from the plots
matplotlib.rcParams['axes.spines.right'] = False
matplotlib.rcParams['axes.spines.top'] = False

# For tex-style fonts
matplotlib.rcParams['mathtext.fontset'] = 'stix'
matplotlib.rcParams['font.family'] = 'STIXGeneral'

# Set the font size
matplotlib.rcParams['font.size'] = 12


# px = 1/plt.rcParams['figure.dpi']

# Read data from one file
def read_txt_file(path):
    if not path.startswith('.DS_Store'):
        return np.loadtxt(open(path, 'rb'), delimiter='\t')


# Read all data files in the "path" folder with a given extension
def read_folder(path, extension='.mse'):
    plt.yscale('log')
    plt.xscale('log')
    # iterate through all file 
    for file in os.listdir(path): 
        # Check whether file is in text format or not         
        if file.endswith(extension): 
            file_path = f"{path}/{file}"
            # call read text file function 
            data = read_txt_file(file_path) 
            # print(file)
            plot_data(data, file)
    plt.legend()
    plt.tight_layout()
    plt.savefig('plot.pdf', dpi='figure', bbox_inches='tight', pad_inches = 0)
    # plt.show()

# Plot data from one file
def plot_data(data, filename):
    # Here we assume that the data is read from two columns 
    X = data[:,0]
    Y = data[:,1]
    
    # Data is plotted in log-scale along both X and Y axes
    plt.yscale('log')
    plt.xscale('log')

    # Give different linecolor to each method,
    # and Generate legend for each method 
    if filename.find('Ours.mse') > -1:
        legend = 'Ours'
        lcolor = 'red'
    else filename.find('Others.mse') > -1:
        legend = 'Others'
        lcolor = 'blue'

    # Give different linestyle to Ours vs Other method
    if legend.find('Ours') > -1:
        style = 'solid'
        print(legend, style, legend.find('Ours'))
    else:
        style = 'dotted'
        print(legend, style)

    # Plot the data
    plt.plot(X, Y, label=legend, linestyle=style, color=lcolor)


def main(argv):
    # defined command line options
    # this also generates --help and error handling
    parser=argparse.ArgumentParser()
    parser.add_argument('-i','--ipath', help='Path to the folder', required=True)
    
    # parse the command line
    args = parser.parse_args()
    # access CLI options
    inputpath = args.ipath
    read_folder(inputpath)

if __name__ == "__main__":
   main(sys.argv[1:])
```
