---
title: "Scientific plots using python"
date: 2024-05-14
---


**Source code** 

Coded by Gurprit Singh
```
import numpy as np
import sys, os
import argparse
import matplotlib
import matplotlib.pyplot as plt

# Remove the top and the right axis from the plots
matplotlib.rcParams['axes.spines.right'] = False
matplotlib.rcParams['axes.spines.top'] = False

# For tex-style fonts
matplotlib.rcParams['mathtext.fontset'] = 'stix'
matplotlib.rcParams['font.family'] = 'STIXGeneral'

# Set the font size
matplotlib.rcParams['font.size'] = 12


# px = 1/plt.rcParams['figure.dpi']

# Read all data files in the folder with a given extension
def read_folder(path, extension='.mse'):
    plt.yscale('log')
    plt.xscale('log')
    # iterate through all file 
    for file in os.listdir(path): 
        # Check whether file is in text format or not         
        if file.endswith(extension): 
            file_path = f"{path}/{file}"
            # call read text file function 
            data = read_txt_file(file_path) 
            # print(file)
            plot_data(data, file)
    plt.legend()
    plt.tight_layout()
    plt.savefig('plot.pdf', dpi='figure', bbox_inches='tight', pad_inches = 0)
    # plt.show()

def read_txt_file(path):
    if not path.startswith('.DS_Store'):
        return np.loadtxt(open(path, 'rb'), delimiter='\t')

def plot_data(data, filename):
    # Here we assume that the data is read as 
    X = data[:,0]
    Y = data[:,1]
    #
    # plt.title(r'Some random numbers')
    plt.yscale('log')
    plt.xscale('log')

    # Give different linecolor to each method
    # Generate legend for each method 
    if filename.find('Ours.mse') > -1:
        legend = 'Ours'
        lcolor = 'red'
    else filename.find('Others.mse') > -1:
        legend = 'Others'
        lcolor = 'blue'

    # Give different linestyle to Ours vs Other method
    if legend.find('Ours') > -1:
        style = 'solid'
        print(legend, style, legend.find('Ours'))
    else:
        style = 'dotted'
        print(legend, style)

    # Plot the data
    plt.plot(X, Y, label=legend, linestyle=style, color=lcolor)


def main(argv):
    # defined command line options
    # this also generates --help and error handling
    parser=argparse.ArgumentParser()
    parser.add_argument('-i','--ipath', help='Path to the folder', required=True)
    #
    # parse the command line
    args = parser.parse_args()
    # access CLI options
    inputpath = args.ipath
    read_folder(inputpath)

if __name__ == "__main__":
   main(sys.argv[1:])
```
